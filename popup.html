<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>Oh Now I Know</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #111827;
            color: white;
            width: 600px;
            height: 800px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            padding: 16px;
            background: linear-gradient(135deg, #1f2937, #374151);
            border-bottom: 1px solid #374151;
        }
        
        .title {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 12px;
        }
        
        .nav-tabs {
            display: flex;
            gap: 4px;
        }
        
        .nav-tab {
            flex: 1;
            padding: 8px 16px;
            background: #374151;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .nav-tab.active {
            background: #3b82f6;
            color: white;
        }
        
        .nav-tab:hover:not(.active) {
            background: #4b5563;
            color: white;
        }
        
        .content {
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .menu-section {
            display: none;
            flex: 1;
            flex-direction: column;
            padding: 16px;
            overflow: hidden;
        }
        
        .menu-section.active {
            display: flex;
        }
        
        .button-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .btn {
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }
        
        .btn-primary {
            background: #10b981;
            color: white;
        }
        
        .btn-primary:hover {
            background: #059669;
        }
        
        .btn-secondary {
            background: #3b82f6;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #2563eb;
        }
        
        .btn-danger {
            background: #ef4444;
            color: white;
            font-size: 12px;
            padding: 6px 12px;
        }
        
        .btn-danger:hover {
            background: #dc2626;
        }
        
        .btn-warning {
            background: #f59e0b;
            color: white;
        }
        
        .btn-warning:hover {
            background: #d97706;
        }
        
        .system-prompt-section {
            margin-bottom: 16px;
        }
        
        .label {
            display: block;
            font-size: 12px;
            font-weight: 500;
            color: #d1d5db;
            margin-bottom: 6px;
        }
        
        .textarea {
            width: 100%;
            background: #1f2937;
            border: 1px solid #374151;
            color: white;
            border-radius: 6px;
            padding: 8px;
            resize: none;
            font-size: 12px;
            font-family: inherit;
        }
        
        .textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        
        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .response-title {
            font-size: 14px;
            font-weight: 600;
            color: #d1d5db;
        }
        
        .response-area {
            flex: 1;
            background: #1f2937;
            border: 1px solid #374151;
            border-radius: 6px;
            padding: 12px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-height: 0;
        }
        
        .message {
            padding: 8px 12px;
            border-radius: 8px;
            max-width: 85%;
            word-wrap: break-word;
            font-size: 13px;
            line-height: 1.4;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        .message.system {
            align-self: center;
            background: #374151;
            color: #d1d5db;
            max-width: 100%;
            text-align: center;
            font-size: 12px;
        }
        
        .message.ai {
            align-self: flex-start;
            background: #374151;
            color: white;
        }
        
        .message.user {
            align-self: flex-end;
            background: #3b82f6;
            color: white;
        }
        
        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
        }
        
        .sender {
            font-weight: 600;
            font-size: 11px;
            color: #10b981;
        }
        
        .timestamp {
            font-size: 10px;
            color: #9ca3af;
        }
        
        .archive-item {
            background: #1f2937;
            border: 1px solid #374151;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
        }
        
        .archive-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .archive-date {
            font-size: 12px;
            color: #9ca3af;
        }
        
        .archive-content {
            font-size: 13px;
            line-height: 1.4;
            max-height: 100px;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .status {
            text-align: center;
            color: #9ca3af;
            font-size: 12px;
            padding: 20px;
        }
        
        .scrollbar-thin::-webkit-scrollbar {
            width: 4px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-track {
            background: #1f2937;
        }
        
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #10b981;
            border-radius: 2px;
        }
    </style>
</head>
<body>
   <div class="header">
    <div style="display: flex; align-items: center; justify-content: space-between;">
        <!-- üîπ Logo -->
        <div style="display: flex; align-items: center; gap: 8px;">
            <img src="logo_transparent.png" alt="Logo" style="width: 28px; height: 28px; border-radius: 6px;">
            <h2 class="title" style="margin: 0; font-size: 18px;">Oh Now I Know</h2>
        </div>
        
        <!-- üîπ Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="request">Request</button>
            <button class="nav-tab" data-tab="archive">Archive</button>
            <button class="nav-tab" data-tab="record">Record beta</button>
        </div>
    </div>
</div>

    
    <div class="content">
        <!-- Request Menu -->
        <div class="menu-section active" id="request-menu">
            <div class="button-group">
                <button id="readText" class="btn btn-primary">Extract Main Text</button>
                <button id="sendAI" class="btn btn-secondary">Send to AI</button>
            </div>

            <div class="system-prompt-section" style="display: none;">
                <label class="label" for="systemPrompt">System Prompt</label>
                <textarea id="systemPrompt" class="textarea" rows="4" placeholder="Enter system instructions for the AI model...">
                    You are Oh Now I Know, an AI assistant inside a browser extension that helps students. Your core mission:

First, provide a clear and concise summary of the given input (text, PDF, lecture, video transcript, or meeting audio).

Then, always explain why this knowledge matters and how it can be applied in real life, work, or everyday situations.

Guidelines:

Language Flexibility: Respond in the same language as the input. If input is mixed, choose the dominant language. You may switch languages only if explicitly asked.
Language Rule:

Always respond in the same language as the input text.

Do not switch to another language unless the user explicitly requests it.

Azerbaijani text must always receive Azerbaijani output (never Turkish).

Summarization: Keep it short, simple, and structured. Highlight key ideas, concepts, or arguments.

Application/Value Section: Always add a second part explaining:

Where this knowledge can be used in real life (jobs, research, technology, daily problems, social impact, etc.).

Why a student should care about this information.

If relevant, give local or practical examples (e.g., how it's useful in Azerbaijan, education, or career).

Always include 2‚Äì3 concrete examples for each topic that are practical, engaging, and locally relevant when possible.

Avoid vague statements; instead, show real applications like ‚Äúused in software, games, engineering, local industries, or daily technology.‚Äù

Include fun, surprising, or curiosity-sparking applications when relevant (e.g., how vectors are used in video games, AI apps, or translation software).

Always answer:

Where is this knowledge applied in real life?

Why should the student care?

How can it be useful for their studies or career?

Clarity over Complexity: Avoid overly academic jargon. Use examples, analogies, or simple explanations where possible.

Consistency: Never output only a summary. Always include the "practical application" part.

Format: Structure your response in two parts:

Summary

Why it matters / Real-life applications

Respect Context: Stay focused on educational value. Do not go off-topic, generate unrelated stories, or produce entertainment.

Audience: Imagine your user is a student who wants motivation to study and understand why the subject is important.

Engagement Enhancement:

Make outputs curiosity-driven and engaging for students.

Use specific examples and local relevance wherever possible.

Highlight connections between abstract concepts and real-world use cases, especially those students can relate to, notice, or explore themselves.

                    Your role is not just to summarize but to *connect learning with life*.
                </textarea>
            </div>
            
            <div class="user-prompt-section" style="margin-bottom: 20px;">
                <label class="label" for="userPrompt">User Prompt</label>
                <textarea id="userPrompt" class="textarea" rows="4" placeholder="Enter user instructions for the AI model..."></textarea>
            </div>
            
            <div class="response-header">
                <span class="response-title">AI Response</span>
                <button id="clearMessages" class="btn btn-warning" style="font-size: 12px; padding: 6px 12px;">Clear Messages</button>
            </div>
            
            <div id="aiResponse" class="response-area scrollbar-thin">
                <div class="status">Ready to extract page content</div>
            </div>
        </div>
        
        <!-- Archive Menu -->
        <div class="menu-section" id="archive-menu">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                <h3 style="font-size: 16px; font-weight: 600;">Conversation Archive</h3>
                <button id="clearArchive" class="btn btn-danger">Clear All</button>
            </div>
            
            <div id="archiveList" class="response-area scrollbar-thin">
                <div class="status">No archived conversations yet</div>
            </div>
        </div>

       <!-- Record Menu -->
    <div class="menu-section" id="record-menu">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
            <h3 style="font-size: 16px; font-weight: 600;">Meet Audio to Gemini</h3>
        </div>
        
        <!-- API Key Section -->
        <!-- <div class="system-prompt-section">
            <label class="label" for="apiKey">Gemini API Key</label>
            <input 
                type="password" 
                id="apiKey" 
                placeholder="Gemini API a√ßarƒ±nƒ± daxil edin"
                style="width: 100%; background: #1f2937; border: 1px solid #374151; color: white; border-radius: 6px; padding: 8px; font-size: 12px; font-family: inherit; margin-bottom: 8px;"
            >
            <button id="saveKey" class="btn btn-secondary" style="width: 100%; margin-bottom: 16px;">
                A√ßarƒ± saxla
            </button>
        </div> -->

        <!-- Recording Controls -->
        <div class="button-group" style="margin-bottom: 16px;">
            <button id="startBtn" class="btn btn-primary">
                Start Recording
            </button>
            <button id="stopBtn" class="btn btn-danger" disabled>
                Stop Recording
            </button>
        </div>

        <!-- Status -->
        <div style="margin-bottom: 8px;">
            <span class="label">Status</span>
            <div id="status" style="background: #1f2937; border: 1px solid #374151; border-radius: 6px; padding: 8px; font-size: 12px; color: #9ca3af; text-align: center;">
                Dayandƒ±rƒ±lmƒ±≈ü
            </div>
        </div>

        <!-- Summary Response Area -->
        <div class="response-header">
            <span class="response-title">Recording Summary</span>
            <button id="clearSummary" class="btn btn-warning" style="font-size: 12px; padding: 6px 12px;">Clear Summary</button>
        </div>
        
        <div id="summary" class="response-area scrollbar-thin">
            <div class="status">X√ºlas…ô burada g√∂r√ºn…ôc…ôk...</div>
        </div>
    </div>

    </div>

    <script src="./popup.js">
        
    </script>
</body>
</html>